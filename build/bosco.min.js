var k;
(function(b){var g=function(){function b(){}b.K=function(a,f){if(null===b.b){b.L=a;b.C=f;var c=b.b=new localStorageDB(b.L);if(c.Va()){c.ea("settings",["name","value"]);c.ea("leaderboard",["date","score"]);for(var g in f)f.hasOwnProperty(g)&&c.ha("settings",{name:g,value:f[g]});c.H()}}};b.get=function(a){return b.b.U("settings",{pa:{name:a}})[0].value};b.Ha=function(a){var f=new Date,c=(f.getMonth()+1).toString();1===c.length&&(c="0"+c);var g=f.getDate().toString();1===g.length&&(g="0"+g);f=f.getFullYear().toString()+
c+g;0===b.b.U("leaderboard",{pa:{I:f}}).length?b.b.ha("leaderboard",{I:f,X:a}):b.b.update("leaderboard",{I:f},function(b){a>b.X&&(b.X=a);return b});b.b.H()};b.Ba=function(a){return b.b.U("leaderboard",{Wa:a,sort:[["score","DESC"]]})};b.b=null;b.L="";b.C=null;b.set=function(a,f){b.b.update("settings",{name:a},function(a){a.value=""+f;return a});b.b.H()};return b}();b.ba=g})(k||(k={}));
(function(b){(function(g){var h=function(){function a(){var a=this;this.i={};this.o=this.s=!1;this.l={x:0,y:0};this.ia=function(b){return a.i[b]};this.ka=function(b){return!a.i[b]};this.oa=function(b){a.i[b.keyCode]&&(a.i[b.keyCode]=!1)};this.na=function(b){a.i[b.keyCode]=!0};this.S=function(b){b=b.targetTouches?b.targetTouches[0]:b;void 0===a.m&&a.da();a.s=!0;a.o=!0;a.l.x=parseInt(b.clientX);a.l.y=parseInt(b.clientY);return!0};this.R=function(b){b=b.targetTouches?b.targetTouches[0]:b;a.l.x=parseInt(b.clientX);
a.l.y=parseInt(b.clientY)};this.P=function(){a.s=!1;a.o=!1};document.addEventListener("touchstart",this.S,!0);document.addEventListener("touchmove",this.R,!0);document.addEventListener("touchend",this.P,!0);document.addEventListener("mousedown",this.S,!0);document.addEventListener("mousemove",this.R,!0);document.addEventListener("mouseup",this.P,!0);window.addEventListener("keydown",this.na,!0);window.addEventListener("keyup",this.oa,!0)}Object.defineProperty(a,"mousePosition",{get:function(){return a.c.l},
enumerable:!0,configurable:!0});a.ya=function(b){return a.c.ia(b.charCodeAt(0))};a.Aa=function(b){return a.c.ka(b.charCodeAt(0))};a.Fa=function(){return!a.c.o};a.Ca=function(){return a.c.s};a.Ea=function(){return a.c.o};a.update=function(){a.c.s=!1;a.c.i={}};a.prototype.da=function(){void 0===this.m&&(void 0===b.a.fullScreen?this.m=!1:this.m=b.ja()||b.a.fullScreen);if(this.m)try{document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?
document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()}catch(a){}};a.c=new a;return a}();g.aa=h})(b.f||(b.f={}))})(k||(k={}));
(function(b){(function(b){var h=function(){function a(){}a.Ga=function(){return 1===(~~(32767*Math.random())&1)};a.ua=function(){return Math.random()};a.N=function(a){return~~(Math.random()*a)};a.random=function(b,c){return void 0===c?a.N(b+1):parseInt(b)===parseFloat(b)&&parseInt(c)===parseFloat(c)?b+a.N(c-b+1):b+a.ua()*(c-b)};return a}();b.Ja=h})(b.f||(b.f={}))})(k||(k={}));
(function(b){(function(b){var h=function(){function a(a,b){void 0===b&&(b=!1);this.J=a;this.repeat=b;this.h=0}a.prototype.update=function(a){this.done||this.Z||(this.h+=a,this.h>=this.J&&(this.h-=this.J,this.repeat?this.reset():this.done=!0))};a.prototype.reset=function(){this.done=this.Z=!1;this.h=0};a.prototype.stop=function(){this.Z=!0};return a}();b.Na=h})(b.f||(b.f={}))})(k||(k={}));
(function(b){(function(b){var h=function(){function a(){}a.sin=function(b){return a.B[b*a.O&a.j]};a.cos=function(b){return a.w[b*a.O&a.j]};a.Ia=function(b){return a.B[b*a.M&a.j]};a.xa=function(b){return a.w[b*a.M&a.j]};a.K=function(b){a.wa=Math.PI/180;a.$a=180/Math.PI;a.qa=12;a.j=~(-1<<a.qa);a.g=a.j+1;a.A=2*Math.PI;a.ta=360;a.O=a.g/a.A;a.M=a.g/a.ta;a.B=Array(a.g);a.w=Array(a.g);for(var c=0;c<a.g;c++)a.B[c]=Math.sin((c+.5)/a.g*a.A),a.w[c]=Math.cos((c+.5)/a.g*a.A);b&&(Math.sin=a.sin,Math.cos=a.cos)};
return a}();b.Oa=h})(b.f||(b.f={}))})(k||(k={}));(function(b){b.ja=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}})(k||(k={}));
(function(b){function g(b){if(Array.isArray(b)){for(var c=new h,d=0,e=b.length;d<e;d++)c.u(g(b[d]));return c}c=new h(a.Ua(b.path));for(d in b)switch(d){case "anchor":c.anchor.set(b.anchor.x,b.anchor.y);break;case "scale":c.scale.set(b.scale.x,b.scale.y);break;case "position":c.position.set(b.position.x,b.position.y);break;case "rotation":c.rotation=b.rotation;break;case "tint":c.sa=b.sa}return c}var h=PIXI.Ka,a=PIXI.La,f=b.f.aa,c=PIXI.za,n=b.ba;b.ga=0;var l;b.controller=function(a){for(var c=[],d=
1;d<arguments.length;d++)c[d-1]=arguments[d];if(b.a.controllers[a]){for(var e=0,f=l.controllers;e<f.length;e++)d=f[e],d.stop();l.controllers=[];e=b.a.controllers[a];e=Array.isArray(e)?e:[e];for(d=0;d<e.length;d++)l.controllers.push(new window[b.a.ma][e[d]]);e=0;for(f=l.controllers;e<f.length;e++)d=f[e],d.start.apply(d,c)}};b.start=function(b){b.C&&n.K(b.ma,b.C);for(var a in b.ca)PIXI.la.add(a,b.ca[a]);PIXI.la.load(function(a,c){return new m(b,c)})};b.Xa=function(a,c){void 0===c&&(c=b.va);var d=g(b.a.W[a]);
c&&c.u(d);return d};var m=function(){return function(a,g){var d=this;this.elapsedTime=this.F=0;this.input=this.G=!1;this.update=function(a){var c=d.Y;c&&c.Qa();var e=d.T||a;d.T=a;a=b.Ra=.001*(a-e);d.F++;d.elapsedTime+=a;1<d.elapsedTime&&(b.ga=d.F,d.F=0,d.elapsedTime=0);for(var e=d.controllers,g=0,h=e.length;g<h;g++)e[g].update(a);d.V.Ya(d.D);d.input&&f.update();d.G&&TWEEN.update();requestAnimationFrame(d.update);c&&c.end()};this.resize=function(){var a=Math.min(window.innerWidth/d.a.width,window.innerHeight/
d.a.height);d.a.scale=a;d.D.scale.x=d.D.scale.y=a;d.V.resize(Math.ceil(d.a.width*a),Math.ceil(d.a.height*a))};l=this;this.a=b.a=a;this.W=b.W=g;this.G=a.G;this.input=a.input;this.T=0;this.controllers=[];var e=this.V=PIXI.Pa(a.width,a.height,a.options);e.view.style.position="absolute";e.view.style.top="0px";e.view.style.left="0px";var h=this.D=new c;b.va=this.ra=new c;b.Ta=this.fa=new c;this.resize();document.body.appendChild(e.view);a.Y&&(e=this.Y=new Stats,e.Za(0),e.v.style.position="absolute",e.v.style.left=
"0px",e.v.style.top="0px",document.body.appendChild(e.v));window.addEventListener("resize",this.resize,!0);window.onorientationchange=this.resize;h.u(this.ra);h.u(this.fa);a.Sa&&a.$?EZGUI.Ma.load(["assets/"+a.$+"-theme/"+a.$+"-theme.json"],function(){b.controller("main");requestAnimationFrame(d.update)}):(b.controller("main"),requestAnimationFrame(this.update))}}();b.Da=m})(k||(k={}));
